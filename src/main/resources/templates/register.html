<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Insert title here</title>
</head>
<link rel="stylesheet" href="css/register.css" />
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
</head>
<body>
<div class="signup-container">
    <h2>Sign Up</h2>
    <form action="#" method="post">
        <input type="text" name="userId" id="userId" placeholder="아이디" required>
        <!-- <input type="button" class="check-button" value="아이디 중복확인"> -->
        <br>
        <input type="password" name="userPassword" id="userPassword" placeholder="비밀번호" required>
        <div class="errorMessage"></div>
        <br>
<!--         <input type="email" name="email" placeholder="Email" required>
        <input type="button" class="send-button" value="인증번호 발송">
        <br>
        <input type="text" name="verification_code" placeholder="인증번호" required>
        <br> -->
        <input type="submit" class="sign-button" id ="sign-button" value="회원가입">
         <input type="button" class="back-button" value="뒤로가기" onclick="history.back()">
    </form>
</div>
</body>
<script type="text/javascript">
	$("#sign-button").on("click",function(e){
		e.preventDefault();
		
		var param = {
			userId : $("#userId").val(),
			userPassword : $("#userPassword").val()
		};
		
		if( param.userId.length == 0 || param.userPassword.length == 0){
			$(".errorMessage").text("빈칸을 입력해주세요.");
			return ;
		}
		
		$.ajax({
			url : "user/register",
			data: param,
			type : "post",
			success : function(res){
				if(res== 1){
					
				}else{
					$(".errorMessage").text("이미 있는 아이디입니다.");
				}
			}
			
		});
	});
</script>
</html>